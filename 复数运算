#include<iostream>
using namespace std;

typedef struct {
	float realpart;
	float imagpart;
}Complex;


void assign(Complex* A, float real, float imag) {
	A->realpart = real;
	A->imagpart = imag;
}

void add(Complex* c, Complex A, Complex B) {
	c->realpart = A.realpart + B.realpart;
	c->imagpart = A.imagpart + B.imagpart;
}

void minus(Complex* c, Complex A, Complex B) {
	c->realpart = A.realpart - B.realpart;
	c->imagpart = A.imagpart - B.imagpart;
}

void multiply(Complex* c, Complex A, Complex B) {
	c->realpart = A.realpart * B.realpart + A.imagpart * B.imagpart * (-1);
	c->imagpart = A.realpart * B.imagpart + A.imagpart * B.realpart;
}

//除法需进行分母有理化
bool divide(Complex* c, Complex A, Complex B) {
	if (B.realpart * B.realpart + B.imagpart * B.imagpart == 0) {
		return false;
	}
	c->realpart = (A.realpart * B.realpart + A.imagpart * B.imagpart) / (B.realpart * B.realpart + B.imagpart * B.imagpart);
	c->imagpart = (A.imagpart * B.realpart - A.realpart * B.imagpart) / (B.realpart * B.realpart + B.imagpart * B.imagpart);
}

int main() {

	Complex z1, z2, z3, z4, z;
	float RealPart, ImagPart;
	assign(&z1, 8.0, 6.0);
	assign(&z2, 4.0, 3.0);
	multiply(&z3, z1, z2);
	add(&z4, z1, z2);
	if (divide(&z, z3, z4)) {
		RealPart = z.realpart;
		ImagPart = z.imagpart;
		cout << "(z1*z2)/(z1+z2) = ";
		cout<< z.realpart<<"+"<< z.imagpart<<"i";
	}
	return 0;
}
